<component lightWeight="true"><attach event="onpropertychange" onevent="handlePropertychange()" /><attach event="ondetach" onevent="restore()" /><attach event="onresize" for="window" onevent="handleResizeThrottled()" /><script type="text/javascript">function init(){var e=doc.createElement("div"),t=doc.createElement("img"),n,r;e.style.position="absolute",e.style.zIndex=-1,e.style.top=0,e.style.right=0,e.style.left=0,e.style.bottom=0,e.style.overflow="hidden",t.alt="",t.style.position="absolute",t.style.width=t.style.width="auto",e.appendChild(t),element.insertBefore(e,element.firstChild),r=[element.currentStyle.backgroundPositionX,element.currentStyle.backgroundPositionY],element.bgsExpando=n={wrapper:e,img:t,backgroundSize:element.currentStyle["background-size"],backgroundPositionX:positions[r[0]]||parseFloat(r[0])/100,backgroundPositionY:positions[r[1]]||parseFloat(r[1])/100},element.currentStyle.zIndex=="auto"&&(element.style.zIndex=0),element.currentStyle.position=="static"&&(element.style.position="relative"),refreshDisplay(element,n)&&(refreshDimensions(element,n),refreshBackgroundImage(element,n,function(){updateBackground(element,n)}))}function refreshDisplay(e,t){var n=e.currentStyle.display;return n!=t.display&&(t.display=n,t.somethingChanged=!0),n!="none"}function refreshDimensions(e,t){var n=e.offsetWidth-(parseFloat(e.currentStyle.borderLeftWidth)||0)-(parseFloat(e.currentStyle.borderRightWidth)||0),r=e.offsetHeight-(parseFloat(e.currentStyle.borderTopWidth)||0)-(parseFloat(e.currentStyle.borderBottomWidth)||0);if(n!=t.innerWidth||r!=t.innerHeight)t.innerWidth=n,t.innerHeight=r,t.somethingChanged=!0}function refreshBackgroundImage(e,t,n){var r=t.img,i=(rsrc.exec(e.currentStyle.backgroundImage)||[])[1];if(i&&i!=t.backgroundSrc){t.backgroundSrc=i,t.somethingChanged=!0,r.onload=function(){var e=r.width,i=r.height;if(e==1&&i==1)return;t.imgWidth=e,t.imgHeight=i,t.constrain=!1,n(),r.style.visibility="visible",r.onload=null},r.style.visibility="hidden",r.src=t.backgroundSrc;if(r.readyState||r.complete)r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",r.src=t.backgroundSrc;t.ignoreNextPropertyChange=!0,e.style.backgroundImage="none"}else n()}function updateBackground(e,t){if(!t.somethingChanged)return;var n=t.img,r=t.innerWidth/t.innerHeight,i=t.imgWidth/t.imgHeight,s=t.constrain,o,u;t.backgroundSize=="contain"?i>r?(t.constrain=o="width",u=Math.floor((t.innerHeight-t.innerWidth/i)*t.backgroundPositionY),n.style.top=u+"px",o!=s&&(n.style.width="100%",n.style.height="auto",n.style.left=0)):(t.constrain=o="height",u=Math.floor((t.innerWidth-t.innerHeight*i)*t.backgroundPositionX),n.style.left=u+"px",o!=s&&(n.style.width="auto",n.style.height="100%",n.style.top=0)):t.backgroundSize=="cover"&&(i>r?(t.constrain=o="height",u=Math.floor((t.innerHeight*i-t.innerWidth)*t.backgroundPositionX),n.style.left=-u+"px",o!=s&&(n.style.width="auto",n.style.height="100%",n.style.top=0)):(t.constrain=o="width",u=Math.floor((t.innerWidth/i-t.innerHeight)*t.backgroundPositionY),n.style.top=-u+"px",o!=s&&(n.style.width="100%",n.style.height="auto",n.style.left=0))),t.somethingChanged=!1}function handlePropertychange(){var e=element.bgsExpando;if(e.ignoreNextPropertyChange){e.ignoreNextPropertyChange=!1;return}refreshDisplay(element,e)&&(refreshDimensions(element,e),refreshBackgroundImage(element,e,function(){updateBackground(element,e)}))}function handleResize(){var e=element.bgsExpando;e.display!="none"&&(refreshDimensions(element,e),updateBackground(element,e))}function restore(){var e=element.bgsExpando;try{element.style.backgroundImage="url('"+e.backgroundSrc+"')",element.removeChild(e.wrapper),element.bgsExpando=null}catch(t){}}var handleResizeThrottleInterval=200,rsrc=/url\(["']?(.*?)["']?\)/,positions={top:0,left:0,bottom:1,right:1,center:.5},doc=element.document;init();var handleResizeThrottled=function(e){var t,n;return function(){var r=this,i=arguments,s=function(){t=null,n=handleResize.apply(r,i)};return clearTimeout(t),t=setTimeout(s,e),n}}(handleResizeThrottleInterval);</script>
